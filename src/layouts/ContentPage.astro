---
// Minimal, self-contained content layout for MD/MDX pages.
// Reads frontmatter from the MDX file: title, description, heroImage, updated, cta {label,url}
const {
  title = 'Further South',
  description = 'UK furry convention',
  heroImage = '',
  updated,
  cta,
} = Astro.props.frontmatter ?? {};
---
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title} — Further South</title>
    <meta name="description" content={description} />
    {Astro.site && (
      <link rel="canonical" href={new URL(Astro.url.pathname, Astro.site)} />
    )}
    <style>
      :root { --max: 72rem; --gap: 1rem; }
      * { box-sizing: border-box; }
      body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, 'Helvetica Neue', Arial, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; line-height: 1.6; color: #0b1220; }
      a { color: inherit; }
      .skip { position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; }
      .skip:focus { position: static; width: auto; height: auto; padding: .5rem 1rem; background: #ffd; display: inline-block; }
      header.hero { position: relative; padding: 4rem 1rem 2rem; background: linear-gradient( to bottom right, #f4f7ff, #fff ); border-bottom: 1px solid #eef1f7; }
      header.hero.has-image { background-image: linear-gradient(to bottom, rgba(255,255,255,.6), rgba(255,255,255,.9)), var(--hero-url); background-size: cover; background-position: center; }
      .wrap { max-width: var(--max); margin: 0 auto; padding: 0 1rem; }
      .eyebrow { text-transform: uppercase; letter-spacing: .08em; font-size: .8rem; color: #5b657a; }
      h1 { margin: .25rem 0 0; font-size: clamp(1.75rem, 4vw, 2.5rem); line-height: 1.2; }
      .desc { margin-top: .5rem; color: #303a52; max-width: 60ch; }
      .cta-row { margin-top: 1rem; display: flex; gap: .75rem; align-items: center; flex-wrap: wrap; }
      .btn { display: inline-block; padding: .65rem 1rem; border-radius: .75rem; border: 1px solid #0b1220; text-decoration: none; font-weight: 600; }
      .btn.primary { background: #0b1220; color: #fff; }
      main { padding: 2rem 0 4rem; }
      article { max-width: var(--max); margin: 0 auto; padding: 0 1rem; }
      article :is(h2,h3,h4) { scroll-margin-top: 6rem; }
      article h2 { font-size: clamp(1.25rem, 2.5vw, 1.75rem); margin-top: 2rem; }
      article h3 { font-size: clamp(1.1rem, 2vw, 1.25rem); margin-top: 1.5rem; }
      article p, article li { max-width: 75ch; }
      .meta { margin-top: .5rem; color: #596070; font-size: .9rem; }
      footer.site { padding: 2rem 1rem; border-top: 1px solid #eef1f7; color: #596070; }
    </style>
  </head>
  <body>
    <a class="skip" href="#main">Skip to content</a>

    <header class={['hero', heroImage && 'has-image'].filter(Boolean).join(' ')} style={heroImage ? { '--hero-url': `url(${heroImage})` } : undefined}>
      <div class="wrap">
        <div class="eyebrow">Further South</div>
        <h1>{title}</h1>
        {description && <p class="desc">{description}</p>}
        <div class="cta-row">
          {cta?.url && cta?.label && (
            <a class="btn primary" href={cta.url}>{cta.label}</a>
          )}
          {updated && (
            <span class="meta">Last updated: {new Date(updated).toLocaleDateString(undefined, { year: 'numeric', month: 'short', day: '2-digit' })}</span>
          )}
        </div>
      </div>
    </header>

    <main id="main">
      <article>
        <slot />
      </article>
    </main>

    <footer class="site">
      <div class="wrap">© {new Date().getFullYear()} Further South</div>
    </footer>
  </body>
</html>